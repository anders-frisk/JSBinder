<html>
    <head>
        <title>Table with Filter Demo</title>
    </head>
    <body>
        <select data-bind='type_filter' data-onchange="type_filter = @value">
            <option value="">All</option>
            <option data-each="@x in planets" data-key="@x.type" data-orderby="@x.type" data-distinct="@x.type" value="{{@x.type}}">{{@x.type}}</option>
        </select>
        <table>
            <tr>
                <th>Name</th>
                <th>Diameter (km)</th>
                <th>Type</th>
            </tr>
            <tr data-each="@x in planets" data-key="@x.name" data-where="type_filter === '' || @x.type === type_filter">
                <td>{{@x.name}}</td>
                <td>{{@x.diameter}}</td>
                <td>{{@x.type}}</td>
            </tr>
        </table>

        <script src="binder.js"></script>
        <script>
            const binder = new JSBinder();

            const planets = [
                { "name": "Sun", "diameter": 1391016, "type": "Star" },
                { "name": "Mercury", "diameter": 4879, "type": "Terrestrial" },
                { "name": "Venus", "diameter": 12104, "type": "Terrestrial" },
                { "name": "Earth", "diameter": 12742, "type": "Terrestrial" },
                { "name": "Mars", "diameter": 6779, "type": "Terrestrial" },
                { "name": "Jupiter", "diameter": 139820, "type": "Gas" },
                { "name": "Saturn", "diameter": 116460, "type": "Gas" },
                { "name": "Uranus", "diameter": 50724, "type": "Ice" },
                { "name": "Neptune", "diameter": 49244, "type": "Ice" },
            ];

            binder.setState({
                planets,
                type_filter : "",
            });

            binder.scan();
        </script>
    </body>
</html>